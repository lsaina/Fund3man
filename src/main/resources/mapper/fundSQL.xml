<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="fund">
  <select id="selectAllFund" resultType="f">
  	select
  		fund_no as fundNo,
  		member_id as memberId,
  		fund_name as fundName,
  		fund_amount as fundAmount,
  		fund_fees as fundFees,
  		fund_category as fundCategory,
  		fund_start as fundStart,
  		fund_end as fundEnd,
  		fund_intro as fundIntro,
  		fund_as as fundAs,
  		fund_like as fundLike,
  		fund_reportcount as fundReportcount,
  		fund_warning as fundWarning,
  		fund_filepath1 as fundFilepath1,
  		fund_filepath2 as fundFilepath2,
  		fund_filepath3 as fundFilepath3,
  		fund_filepath4 as fundFilepath4,
  		fund_filepath5 as fundFilepath5
  	from fund
  </select>
  <select id="selectOneFund" parameterType="f" resultType="f">
  	select
  		fund_no as fundNo,
  		member_id as memberId,
  		fund_name as fundName,
  		fund_amount as fundAmount,
  		fund_fees as fundFees,
  		fund_category as fundCategory,
  		fund_start as fundStart,
  		fund_end as fundEnd,
  		fund_intro as fundIntro,
  		fund_as as fundAs,
  		fund_like as fundLike,
  		fund_reportcount as fundReportcount,
  		fund_warning as fundWarning,
  		fund_filepath1 as fundFilepath1,
  		fund_filepath2 as fundFilepath2,
  		fund_filepath3 as fundFilepath3,
  		fund_filepath4 as fundFilepath4,
  		fund_filepath5 as fundFilepath5
  	from fund where fund_no = #{fundNo}
  </select>
  <update id="updateFundStory" parameterType="f">
  	update fund
  	set 
  		fund_intro = #{fundIntro}, 
  		fund_filepath1 = #{fundFilepath1},
  		fund_filepath2 = #{fundFilepath2},
  		fund_filepath3 = #{fundFilepath3},
  		fund_filepath4 = #{fundFilepath4},
  		fund_filepath5 = #{fundFilepath5}
  	where fund_no = #{fundNo}
  </update>
  <select id="selectReward" parameterType="f" resultType="r">
  	select
  		reward_no as rewardNo,
  		reward_no as rewardNo,
  		reward_name as rewardName,
  		reward_intro as rewardIntro,
  		reward_price as rewardPrice,
  		reward_count as rewardCount,
  		reward_option as rewardOption,
  		reward_send as rewardSend,
  		reward_deliveryfee as rewardDeliveryfee
  	from reward where fund_no = ${fundNo} order by 1
  </select>
  <insert id="createReward" parameterType="r">
  	insert into reward 
  	values (reward_seq.nextval, #{fundNo}, #{rewardName}, #{rewardIntro}, #{rewardPrice}, #{rewardCount}, #{rewardOption}, #{rewardSend}, #{rewardDeliveryfee})
  </insert>
  <update id="updateReward" parameterType="r">
  	update reward
  	set
  		reward_name = #{rewardName},
  		reward_intro = #{rewardIntro},
  		reward_price = #{rewardPrice},
  		reward_count = #{rewardCount},
  		reward_option = #{rewardOption},
  		reward_send = #{rewardSend},
  		reward_deliveryfee = #{rewardDeliveryfee}
  	where reward_no = #{rewardNo}
  </update>
  <delete id="deleteReward" parameterType="r">
  	delete from reward where reward_no = #{rewardNo}
  </delete>
  <select id="selectFundCalculate" parameterType="f" resultType="fc">
  	select
  		fc_no as fcNo,
  		fund_no as fundNo,
  		fc_rep_category as fcRepCategory,
  		fc_rep_name as fcRepName,
  		fc_rep_email as fcRepEmail,
  		fc_rep_filepath as fcRepFilepath,
  		fc_rep_birth as fcRepBirth,
  		fc_mail as fcMail,
  		fc_bank_name as fcBankName,
  		fc_bank_no as fcBankNo,
  		fc_bank_account as fcBankAccount,
  		fc_bank_filepath as fcBankFilepath
  	from fund_calculate where fund_no = ${fundNo}
  </select>
  <insert id="createFundCalculate" parameterType="fc">
  	insert into fund_calculate
  	values (fc_seq.nextval, #{fundNo}, #{fcRepCategory}, #{fcRepName}, #{fcRepEmail}, #{fcRepFilepath}, #{fcRepBirth}, #{fcMail}, #{fcBankName}, #{fcBankNo}, #{fcBankAccount}, #{fcBankFilepath})
  </insert>
  <update id="updateFundCalculate" parameterType="fc">
	update fund_calculate 
  	set 
  		fc_mail = #{fcMail},
  		fc_bank_name = #{fcBankName},
  		fc_bank_no = #{fcBankNo},
  		fc_bank_account = #{fcBankAccount},
  		fc_bank_filepath = #{fcBankFilepath}
  	where fund_no = #{fundNo}
  </update>
</mapper>
